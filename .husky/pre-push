#!/bin/sh

# Exit on any error
set -e

echo "ğŸš€ Running pre-push checks..."

# Verify dist is up to date
echo "ğŸ” Verifying dist/ is up-to-date..."
npm run verify-dist

if [ $? -ne 0 ]; then
  echo "âŒ dist/ is not up-to-date!"
  echo "Please run 'npm run all' and commit the changes before pushing."
  exit 1
fi

# Run tests
echo "ğŸ§ª Running tests..."
npm test

echo "âœ… All pre-push checks passed!"
echo "ğŸ‰ Ready to push to remote repository"
